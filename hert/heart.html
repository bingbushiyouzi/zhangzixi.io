<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>mua 小张</title>
<embed src="bandaotiehe.mp3" hidden="true" autostart="true"/>


<script type="text/javascript">
	var element = [[100,0,1],[200,0,2],[400,0,3],[500,0,4],
	           [0,100,5],[100,100,6],[500,100,7],[600,100,8],
	           [0,200,9],[100,200,10],[500,200,11],[600,200,12],
	           [100,300,13],[500,300,14],
	           [200,400,15],[300,400,16],[400,400,17],
	           [300,500,18]];
	var center = [[200,100,19],[300,100,20],[400,100,21],[200,200,22],[300,200,23],[400,200,24],[200,300,25],[300,300,26],[400,300,27]]
	var message = [["5月28日</br>这是加你后发的朋友圈，还是挺好看的，可是但是没啥感觉，别打我哈哈哈"],
	               ["10月1日</br> 那天应该是特殊的一天，不知道怎么回事我就说喜欢你，想着死就死了，实在是不知道怎么说，也没聊过天，也记不清是什么时候开始喜欢上的，难搞哦，这是我说完后你发的朋友圈，现在我还记得“被我喜欢的人一定很幸福”我觉得也是，不知道是哪个幸运男生"],
	               ["10月7日</br> 那几天总是想找你聊天，又不知道说什么，知道我怎么知道喜欢的吗，因为那时和你聊天总是小心翼翼。换成别人早就“老妹 整两串大腰子”"],
	               ["12月1日</br> 眼睛还是很好看的，不过你这是孤我发的，头天晚上还好好的，说不见就不见，你是猴子吗 "],
	               ["11月29日</br> 周五，你那天中午吃了一个包子，那天下雪了，我一直说下雪想牵手，结果这雪来的有点突然，怂了怂了"],
	               ["......</br> 这才是认识你的第一张，不对 是还有一张不过我没有 都一样 长得还是不错的嘛妹妹 黄头发plmm"],
	               ["11月14日</br> 从你十月一那两天没回我之后，就好久没找你，以为是你烦我，水瓶座的人还是很自觉的，从始至终我都不知道你是怎么看我的，你不会连我名字都没记住吧"],
	               ["11月23日</br> 等我有钱一定给你买个头！那天晚上我去喝酒，你是生死局，还记得快十二点我问你咋样么，我刚刚从奥斯卡出来，有个女生缠着我，我受不了，仗着喝酒我跟你说想你了 你说你也是！ 你现在说是不是真的！反正我当真的了 "],
	               ["11月30日</br> 不都不知道多少年前的了，you手里倒是还多少存货"],
	               ["12月1日</br>  这个我知道，去打麻将没你位置了，无聊的自拍"],
	               ["11月27日</br> 火腿肠不错 ，怎么卖的！"],
	               ["10月6日</br> 十一产物之一，还雀神，你照镜子瞅瞅 你脸不红嘛 输多少钱心里没点数"],
	               ["11月12日</br> 无头怪 多给你买俩头，老太太的感jiao"],
	               ["11月12日</br> 这身材 i了  杠杠的 这谁扛得住啊 ，反正我扛不住"],
	               ["9月23日</br> 这张是我觉得最喜欢的，奥对我想起来了 我知道怎么喜欢上的了 你还记得发过一个抖音，是你模糊的小脸蛋，对！就是那个小圆脸，太可爱了吧"],
	               ["11月24日</br> 喝完酒瘫痪在床上的某人，说话声音软的一匹，不过还是你小侄女全场最萌"],
	               ["12月6日</br> 你老实讲，上班不让玩手机，这张怎么拍的"],
	               ["......</br> 小圆脸怎么变成瓜子脸了，你把胖脸给我变回来"],
	               ["11月9日</br> 左耳朵，你耳机坏的是不是这个耳朵"],
	               ["11月9日</br> 至于为什么选这个呢，我觉得最好看吧(对不起我是渣男，上边的也喜欢"],
	               ["11月9日</br> 其实我知道的你不喜欢我，我只是想努力一下，哪怕知道结果"],
	               ["11月9日</br> 每次你问我在干嘛的时候都会很开心，因为只有那时候我才觉得你是想和我聊天的"],
	               ["11月9日</br> 不知道怎么回事，你又变得不爱理我，就像那句歌词“我们之间的距离总是忽远有忽近”，我不知道是哪里做的不对，但是从上周日开始就好像出了问题"],
	               ["11月9日</br> 就算哪天不在了，你也要按时吃饭，中午还是要吃东西的，脑袋记不住就在手机上定上闹铃"],
	               ["11月9日</br> 我啊其实这种事情真的不是很懂，大学的时候嘻嘻哈哈，一直都觉得这种东西很烦，撩妹是一把好手，谈恋爱吗算了算了哈哈哈"],
	               ["11月9日</br> 不知道怎么回事就说了这么多，很不像我，水瓶座都是放肚子里的，据说和双子最配，你说呢"],
	               ["11月9日</br> 喜欢的人不多，你是一个，以后少喝酒，希望以后的那个人是最疼你的"],
	              
	               ]
	 var num = 0;
	var sw;
	
	function  xin(){
		var stopbig = setInterval(function (){
			var index = Math.floor(Math.random()*element.length);
			//当第一数组长度为零
			if(element.length == 0 ){
				var rew = Math.floor(Math.random()*center.length);
				sw = center.splice(rew,1);
				
			}else{
				sw = element.splice(index,1);
				
			}
			var img = document.createElement("img");
			num++;
			img.style.position="absolute";
			img.style.left=sw[0][0]+"px";
			img.style.top=sw[0][1]+"px";
			img.style.width="95px";
			img.style.height="95px";
			img.style.zIndex ="8"; 
			img.setAttribute('id',sw[0][2]);
			img.setAttribute('class',"zhizhang");
			img.src = "zhangzixi/xi"+sw[0][2]+".jpg";
			img.onmouseover = function showmsg(){
				img.style.webkitTransform="scale(1.05)";
				img.style.transform="scale(2.05)";
				img.style.boxShadow="0px 0px 10px rgba(0,0,0,0.1)";
				img.style.borderRadius="50%";
				img.style.zIndex ="999";
				record.style.display="block";
				var hn = img.getAttribute('id')-1;
				record.innerHTML=message[hn];
				/* img.style.width="200px";
				img.style.height="200px";
				img.style.top = parseInt(img.style.top)-35+"px";
				img.style.left= parseInt(img.style.left)-35+"px";
				img.style.zIndex ="999"; */
				
			}
			img.onmouseout = function showms(){
				img.style.webkitTransform="scale(1)";
				img.style.transform="scale(1)";
				img.style.boxShadow="0px 0px 10px rgba(0,0,0,0.1)";
				img.style.borderRadius="0";
				img.style.zIndex ="8"; 
				record.style.display="none";
				/* img.style.width="95px";
				img.style.height="95px";
				img.style.top = parseInt(img.style.top)+35+"px";
				img.style.left= parseInt(img.style.left)+35+"px";
				img.style.zIndex ="2"; */
			}
			var alpha = 0; //透明度值变量
			var stop = setInterval(function (){
				img.style.filter = 'alpha(opacity:'+alpha+')'; //设置IE的透明度
				img.style.opacity = alpha / 100; //设置fierfox等透明度，注意透明度值是小数
				d1.appendChild(img);
				alpha += 1;
				if(alpha==100){
					clearInterval(stop);
				}
			},80);
			var a = 0;
			 if(num==27){
				 var um = 0;
				 var time = setInterval(function (){
					if(um==4){
						setInterval(function (){
							main2.style.filter = 'alpha(opacity:'+a+')'; //设置IE的透明度
							main2.style.opacity = a / 100; //设置fierfox等透明度，注意透明度值是小数
							main2.style.zIndex ="5";
							main2.style.display ="block";
							a += 1;
						},100);
					}
					um++;
				},1000);
		 	} 
			if(num==27){
			clearInterval(stopbig);
			}
		},1500);
	} 
	   
	var h = 0;
	var m = 0;
	var s = 0;
	var inh1 = 100;
	function write(){
		var time = setInterval(function(){
			main.style.filter = 'alpha(opacity:'+inh1+')'; //设置IE的透明度
			main.style.opacity = inh1 / 100; //设置fierfox等透明度，注意透明度值是小数
			main.style.zIndex ="5";
			/* main.style.display ="block"; */
			inh1 -= 1;
			if(inh1 == 20){
				xin();
			}
		},50)
	}
	
	//页面加载完
	var timer = 0;
 
	window.onload = function(){
	    timer = setInterval(function (){
	    	timer++;
	    	if(timer == 5){
	    		write();
	    	}
	    },1000);
	};
 
	function destroy(){
	    if(!!timer) {
	      clearInterval(timer);
	      timer = null;
	    }
	}
	/* function myfn(){
		if(i1.value == ""){
			h = 0;
		}else{
			h = parseInt(i1.value);
		}
		if(i2.value == ""){
			m = 0;
		}else{
			m = parseInt(i2.value)+h*60;
		}
		if(i3.value == ""){
			s = m*60;
		}else{
			s = parseInt(i3.value)+m*60;
		}
		var time = setInterval(function(){
			s--;
			var hours = parseInt(s/3600);
			var minutes = parseInt(s%3600/60);
			var sm = parseInt(s%3600%60);
			h1.innerText= hours + ":"+ minutes + ":" + sm;
			if(s==0){
				h1.innerText= "时间到";
			}
			if(s==-1){
				clearInterval(time);
				d2.style.display ="none";
				xin();
			}
		},1000);
	} */
	
</script>
<style type="text/css">

#main{
	position: absolute;
	top: 200px;
	left: 35%;
	cursor: pointer;
	z-index: 4;
}
#main2{
	position: absolute;
	top: 1200px;
	right: 10%;
	cursor: pointer;
	z-index: 4;
}
#main:hover{
	
}
	
	#record{
		width:200px;
		height:300px;
		background-color: rgba(255,255,255,0.5);
		font-family:'wei';
		border-radius:20px;
		color:rgba(81,81,71,0.8);
		text-align:center;
		font-size:20px;
		display:none;
		float:right;
		margin-top:5%;
		margin-right:15%;
	}
	@font-face {
	    font-family: 'wei';
	    src: url('ziti/HYZhuZiMuTouRenW.eot');
	    src: url('ziti/HYZhuZiMuTouRenW.otf'),
	         url('ziti/HYZhuZiMuTouRenW.svg') format('svg');,
			 url('ziti/HYZhuZiMuTouRenW.ttf')format('truetype'),
			 url('ziti/HYZhuZiMuTouRenW.woff') format('woff'),			
	    font-weight: normal;
	    font-style: normal;
}
	#d1{
		width:680px;
		height:600px;
		margin: 0 auto;
		top:50%;
		left:50%;
		margin-left : -340px;
		margin-top : -300px;
		position: absolute;
	}
	.zhizhang{
		position:absolute;
		box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
		-webkit-transition: all ease .3s;
		transition: all ease .5s;
		z-index: 2;
	}
	/* img:hover{
		-webkit-transform: scale(1.05);
		transform: scale(2.05);
		box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
		border-radius: 50%;
		z-index: 999;
	} */
	input{
		width:200px;
		height:40px;
		text-align: center;
	}
	#d2{
		width:800px;
		height:250px;
		position:absolute;
		top: 165px;
		left: 238px;
		text-align: center;
	}
	#en{
		width:100px;
		height:50px;
		border-radius:10px ;
		background-color: rgba(231,234,237,0.8);
		border: none;
	}
	audio{
		position:absolute;
		top: 50px;
		left: 20px;
	}
	h2{
		font-family: "comic sans ms";
		font-size: 60px;
		position:absolute;
		top: 200px;
		left: 460px;
		color: rgba(255,0,0,0.5);
	}
	h1{
		font-family: Segoe-Print Arial, Helvetica, sans-serif;
		font-size: 35px;
	}
	#ren{
	   height:300px ;
	   width:300px;
	}
	.body_left {
    width: 300px;
    height: 300px;
    left: 0;
    bottom: 110px;
    position: absolute;
    z-index: 98;

}
</style>
<script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>

</head>
<body>
	<canvas id="c" style="position: absolute;z-index: -1;text-align: center;"></canvas>
	<div id="d1">
	</div>
	<!-- <div id="d2" ><h1 id="h1">倒计时</h1><br />
		<input type="text" placeholder="小时" id="i1"/> 小时 <input type="text"  placeholder="分钟" id="i2"/> 分钟 <input type="text"  placeholder="秒" id="i3"/> 秒
		<br><br><input id="en" type="button" value="开始倒计时" onclick="myfn()">
		</div> -->
		<!-- <audio controls="controls" autoplay="autoplay">
		<source src="Blind.mp3" type="audio/mp3" />
		<source src="Blind.mp3" type="audio/mpeg" /> 
		</audio> -->
		<div id="main"><h1 >你知道吗，等待是最长情的告白</h1></div>
		<!-- <img src="图片路径" id="pic" style="display:none"/> -->
		<h1 style="display:none" id="main2">什么时候下雪啊</h1>
		<div class="body_left">
        <img id="ren"  src="biubiubiu.gif" alt="" ondragstart='return false;'>
        </div>
        <div id="record">
        	asdddd
        </div>
</body>
<script type="text/javascript">
$(document).ready(function() {			
            var canvas = document.getElementById("c");
			var ctx = canvas.getContext("2d");
			var c = $("#c");
			var w,h;
			var pi = Math.PI;
			var all_attribute = {
				num:50,            			 // 个数
				start_probability:0.1,		     // 如果数量小于num，有这些几率添加一个新的     		     
				size_min:1,   			     // 初始爱心大小的最小值
				size_max:2,   			     // 初始爱心大小的最大值
				size_add_min:0.1,               // 每次变大的最小值（就是速度）
				size_add_max:0.3,               // 每次变大的最大值
				opacity_min:0.3,                 // 初始透明度最小值
				opacity_max:0.5, 				 // 初始透明度最大值
				opacity_prev_min:.003,            // 透明度递减值最小值
				opacity_prev_max:.005,            // 透明度递减值最大值
				light_min:0,                 	  // 颜色亮度最小值
				light_max:90,                 	  // 颜色亮度最大值
			};
			var style_color = find_random(0,360);  
			var all_element =[];
			window_resize();
			function start(){
				window.requestAnimationFrame(start);
				style_color+=0.1;
				//更改背景色hsl(颜色值，饱和度，明度)
				ctx.fillStyle = 'hsl('+style_color+',100%,97%)';
				ctx.fillRect(0, 0, w, h);
				if (all_element.length < all_attribute.num && Math.random() < all_attribute.start_probability){
					all_element.push(new ready_run);
				}
				all_element.map(function(line) {
					line.to_step();
				})
			}
			function ready_run(){
				this.to_reset();
			}
				function arc_heart(x,y,z,m){
							 //绘制爱心图案的方法，参数x,y是爱心的初始坐标，z是爱心的大小，m是爱心上升的速度
					//爱心向左飘
//							 x+=m;
					//爱心向右飘
//							x-=m;
//							爱心向上飘，向下飘换成+
							 y-=m*10;
							 
							 ctx.moveTo(x,y);
							 z*=0.05;
							 ctx.bezierCurveTo(x,y-3*z,x-5*z,y-15*z,x-25*z,y-15*z);
							 ctx.bezierCurveTo(x-55*z,y-15*z,x-55*z,y+22.5*z,x-55*z,y+22.5*z);
							 ctx.bezierCurveTo(x-55*z,y+40*z,x-35*z,y+62*z,x,y+80*z);
							 ctx.bezierCurveTo(x+35*z,y+62*z,x+55*z,y+40*z,x+55*z,y+22.5*z);
							 ctx.bezierCurveTo(x+55*z,y+22.5*z,x+55*z,y-15*z,x+25*z,y-15*z);
							 ctx.bezierCurveTo(x+10*z,y-15*z,x,y-3*z,x,y);
		      }
			ready_run.prototype = {
				to_reset:function(){
					var t = this;
					t.x = find_random(0,w);
					t.y = find_random(0,h);
					t.size = find_random(all_attribute.size_min,all_attribute.size_max);
					t.size_change = find_random(all_attribute.size_add_min,all_attribute.size_add_max);
					t.opacity = find_random(all_attribute.opacity_min,all_attribute.opacity_max);
					t.opacity_change = find_random(all_attribute.opacity_prev_min,all_attribute.opacity_prev_max);
					t.light = find_random(all_attribute.light_min,all_attribute.light_max);
					t.color = 'hsl('+style_color+',100%,'+t.light+'%)';
				},
				to_step:function(){
					var t = this;
					t.opacity -= t.opacity_change;
					t.size += t.size_change;
					if(t.opacity <= 0){
						t.to_reset();
						return false;
					}
					ctx.fillStyle = t.color;
					ctx.globalAlpha = t.opacity;
					ctx.beginPath();
					arc_heart(t.x,t.y,t.size,t.size);
					ctx.closePath();
					ctx.fill();
					ctx.globalAlpha = 1;
				}
			}
			
			function window_resize(){
//				canvas铺满窗口
				w = window.innerWidth;
				h = window.innerHeight;
				//如果需要铺满内容可以换下面这个
//				w=$("body").width();
//				h=$("body").height();
				canvas.width = w;
				canvas.height = h;
				
			}
			$(window).resize(function(){
				window_resize();
			});
			
			//返回一个介于参数1和参数2之间的随机数
			function find_random(num_one,num_two){
				return Math.random()*(num_two-num_one)+num_one;
			}

			start();
        });
</script>
</html>
